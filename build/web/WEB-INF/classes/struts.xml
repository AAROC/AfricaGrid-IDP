<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : struts.xml
    Created on : 04 January 2012, 12:41
    Author     : marco
    Description:
        Purpose of the document follows.
-->

<!DOCTYPE struts PUBLIC '-//Apache Software Foundation//DTD Struts Configuration 2.0//EN' 'http://struts.apache.org/dtds/struts-2.0.dtd'>
<struts>
    <package name="idp" extends="struts-default" namespace="/">
        <action name="home">
            <result>
                /home.jsp
            </result>
        </action>
        <action name="about">
            <result>
                /about.jsp
            </result>
        </action>
        <action name="providers">
            <result>
                /providers.jsp
            </result>
        </action>
        <action name="register">
            <result>
                /register.jsp
            </result>
        </action>
        <action name="confirmRegistration" class="it.infn.ct.security.actions.ConfirmRegistration">
            <result name="success">confirm.jsp</result>
            <result name="error">userReject.jsp</result>
            <param name="MailFrom">bbecker@csir.co.za</param>
            <param name="MailTo">bbecker@csir.co.za</param>
        </action>
        
        <action name="addUser" class="it.infn.ct.security.actions.AddUser">
            <result name="input">/register.jsp</result>
            <result name="success">/success.jsp</result>
            <param name="IdPAdmin">SAGrid Catch-All IdP Administrator</param>
            <param name="MailFrom">bbecker@csir.co.za</param>
            <param name="MailCC">bbecker@csir.co.za</param>
            <param name="MailSubject">Confirmation Request for the registration to the Identity Provider SAGrid Catch-All Identity Provider</param>
            <param name="MailBody">
Dear _USER_,
                                                 
we have received your request to become a user 
of the South African National Grid "catch-all" Identity Provider.
                                                 
If indeed you made this request, please click the following url 
to confirm your data in the next 48 hours:

_URL_
 Else, please ignore this email.

Thank you for your interest.

Best regards,
The SAGrid Catch-All IdP Administrators
                </param>
            
            
        </action>
        
        <action name="login" class="it.infn.ct.security.actions.Login">
            <result name="input">/login.jsp</result>
            <result name="adminAccess">/admin.jsp</result>
            <result name="userAccess">/userAdmin.jsp</result>
            <result name="login">/login.jsp</result>
        </action> 
        <action name="AdminAction" class="it.infn.ct.security.actions.AdminAction">
            <result>
                /table.jsp
            </result>
        </action> 
        <action name="OrgAction" class="it.infn.ct.security.actions.OrgAction">
            <result>
                /organizations.jsp
            </result>
        </action> 
        <action name="CaptchaAction" class="it.infn.ct.security.actions.CaptchaAction">
        </action> 
        <action name="Logout" class="it.infn.ct.security.actions.Logout">
            <result name="success">/login.jsp</result>
        </action>
       <action name="DeleteAction" class="it.infn.ct.security.actions.DeleteAction">
            <result name="success">/admin.jsp</result>
        </action>
       <action name="ValidateRegisterUserData" class="it.infn.ct.security.actions.ValidateUser">
            <result>/validatereg.jsp</result>
        </action> 
       <action name="RegisterUser" class="it.infn.ct.security.actions.RegisterUser">
            <result name="success">/registration.jsp</result>
            <result name="error">/registrationError.jsp</result>
            <param name="IdPAdmin">SAGrid Catch-All IdP Administrator</param>
            <param name="MailFrom">bbecker@csir.co.za</param>
            <param name="MailCC">bbecker@csir.co.za</param>
            <param name="MailSubject">Confirmation Request for the registration to the SAgrid Catch-All Identity Provider</param>
            <param name="MailBody">
Dear _USER_,
                                                 
your request to become a user of the SAGrid "catch-all" Identity Provider
has been accepted.

You are now able to access all the Services which form part of the GrIDP "catch-all" Identity Federation.
A list of services is available at the following link:

https://idp.sagrid.ac.za:8080/providers

When you sign-in in any of them, plase select GrIDP as Identity Federation
and SAGrid Catch-All IdP as Identity Provider. 
                
Best regards,
The SAGrid Catch-All administrators
                </param>
            

        </action> 
       <action name="ModifyUser" class="it.infn.ct.security.actions.ModifyUser">
            <result name="success">/changesUpdate.jsp</result>
            <result name="error">/changesUpdateError.jsp</result>
            <result name="input">/userAdmin.jsp</result>
        </action>
    </package>
    
</struts>
